<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>插件MyBatis.md - Even - A super concise theme for Hugo</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="卢森林" /><meta name="description" content="第一章-mybatisPlus概述 1实体类注解 mybatisPlus实体类注解 @TableName 作用于表名上，解决表名和实体类名不一致 @TableId(value = &amp;ldquo;oid&amp;rdquo;, type = IdType.AUTO) 作用与字段" /><meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.74.3 with theme even" />


<link rel="canonical" href="https://13277112287.github.io/post/%E6%8F%92%E4%BB%B6mybatis/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.8c3cbcb0324c2bb4875ceccba4007cbad4b4ac8377f33af9953c3e7684534a50.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="插件MyBatis.md" />
<meta property="og:description" content="第一章-mybatisPlus概述 1实体类注解 mybatisPlus实体类注解 @TableName 作用于表名上，解决表名和实体类名不一致 @TableId(value = &ldquo;oid&rdquo;, type = IdType.AUTO) 作用与字段" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://13277112287.github.io/post/%E6%8F%92%E4%BB%B6mybatis/" />
<meta property="article:published_time" content="2020-04-29T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-07-18T00:00:00+00:00" />
<meta itemprop="name" content="插件MyBatis.md">
<meta itemprop="description" content="第一章-mybatisPlus概述 1实体类注解 mybatisPlus实体类注解 @TableName 作用于表名上，解决表名和实体类名不一致 @TableId(value = &ldquo;oid&rdquo;, type = IdType.AUTO) 作用与字段">
<meta itemprop="datePublished" content="2020-04-29T00:00:00+00:00" />
<meta itemprop="dateModified" content="2020-07-18T00:00:00+00:00" />
<meta itemprop="wordCount" content="5456">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="插件MyBatis.md"/>
<meta name="twitter:description" content="第一章-mybatisPlus概述 1实体类注解 mybatisPlus实体类注解 @TableName 作用于表名上，解决表名和实体类名不一致 @TableId(value = &ldquo;oid&rdquo;, type = IdType.AUTO) 作用与字段"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">forest森林</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">主页</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">时间轴</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">分类</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">关于</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">forest森林</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">主页</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">时间轴</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">分类</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">关于</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">插件MyBatis.md</h1>

      <div class="post-meta">
        <span class="post-time"> 2020-04-29 </span>
        <div class="post-category">
            <a href="/categories/%E6%A1%86%E6%9E%B6/"> 框架 </a>
            </div>
          <span class="more-meta"> 约 5456 字 </span>
          <span class="more-meta"> 预计阅读 11 分钟 </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#第一章-mybatisplus概述">第一章-mybatisPlus概述</a>
      <ul>
        <li><a href="#1实体类注解">1实体类注解</a></li>
        <li><a href="#3mybatis逆向工程">3mybatis逆向工程</a></li>
        <li><a href="#4plus分页插件">4plus分页插件</a></li>
        <li><a href="#5service接口使用">5service接口使用</a></li>
        <li><a href="#6mapper使用">6mapper使用</a></li>
        <li><a href="#7修改注意">7修改注意</a></li>
      </ul>
    </li>
    <li><a href="#第2章-pagehepler">第2章-pagehepler</a>
      <ul>
        <li><a href="#1什么是pagehepler">1什么是pagehepler</a></li>
        <li><a href="#2快速入门">2快速入门</a>
          <ul>
            <li><a href="#2-配置拦截器插件">2 配置拦截器插件</a></li>
            <li><a href="#3-在代码中使用">3 在代码中使用</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#第三章-generator">第三章-generator</a>
      <ul>
        <li><a href="#2快速入门-1">2快速入门</a></li>
        <li><a href="#3方法example">3方法Example</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h1 id="第一章-mybatisplus概述">第一章-mybatisPlus概述</h1>
<h2 id="1实体类注解">1实体类注解</h2>
<blockquote>
<p>mybatisPlus实体类注解</p>
</blockquote>
<p>@TableName  作用于表名上，解决表名和实体类名不一致
@TableId(value = &ldquo;oid&rdquo;, type = IdType.AUTO)   作用与字段上,指定主键字段名，类型。</p>
<p>@TableField(value=&quot;数据库字段名&rdquo;,exist=false)
注解其他属性：exist=boolean 是否存在于数据库</p>
<h2 id="3mybatis逆向工程">3mybatis逆向工程</h2>
<p>详细介绍：https://mp.baomidou.com/config/generator-config.html#service-2</p>
<p>重要：若使用通用mapper时候需要调整 SqlSessionFactory 为 MyBatis-Plus 的 SqlSessionFactory</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&#34;sqlSessionFactory&#34;</span> <span class="na">class=</span><span class="s">&#34;com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;dataSource&#34;</span> <span class="na">ref=</span><span class="s">&#34;dataSource&#34;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>使用的mybatis-plus插件，功能强大，自动生成实体类。</p>
<p>全的pom.xml====</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml">      <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>com.baomidou<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>mybatis-plus<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>3.3.1<span class="nt">&lt;/version&gt;</span>
      <span class="nt">&lt;/dependency&gt;</span>
      <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>com.baomidou<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>mybatis-plus-generator<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>3.3.1.tmp<span class="nt">&lt;/version&gt;</span>
      <span class="nt">&lt;/dependency&gt;</span>  
      <span class="c">&lt;!-- 模板引擎 --&gt;</span>
      <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.apache.velocity<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>velocity-engine-core<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>2.0<span class="nt">&lt;/version&gt;</span>
      <span class="nt">&lt;/dependency&gt;</span>

<span class="c">&lt;!--Lombok--&gt;</span>
      <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>lombok<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>1.16.10<span class="nt">&lt;/version&gt;</span>
      <span class="nt">&lt;/dependency&gt;</span>

<span class="c">&lt;!--      日志记录--&gt;</span>
      <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.slf4j<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>slf4j-api<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>1.7.25<span class="nt">&lt;/version&gt;</span>
      <span class="nt">&lt;/dependency&gt;</span>
      <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>ch.qos.logback<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>logback-classic<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>1.2.3<span class="nt">&lt;/version&gt;</span>
      <span class="nt">&lt;/dependency&gt;</span>



<span class="c">&lt;!-- 注意 当mapper.xml文件不在resource目录下 需要加入--&gt;</span>
<span class="nt">&lt;build&gt;</span>
<span class="nt">&lt;resources&gt;</span>
  <span class="nt">&lt;resource&gt;</span>
    <span class="nt">&lt;directory&gt;</span>src/main/java<span class="nt">&lt;/directory&gt;</span>
    <span class="nt">&lt;includes&gt;</span>
      <span class="nt">&lt;include&gt;</span>**/*.xml<span class="nt">&lt;/include&gt;</span>
    <span class="nt">&lt;/includes&gt;</span>
  <span class="nt">&lt;/resource&gt;</span>
  <span class="nt">&lt;/resources&gt;</span>
<span class="nt">&lt;/build&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>1导包</p>
<p>集成mybatis-plus要把mybatis、mybatis-spring去掉，避免冲突，但需要mybatis-plus-generator</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>com.baomidou<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>mybatis-plus<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>3.3.1<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p><strong>MyBatis-Plus 从 <code>3.0.3</code> 之后移除了代码生成器与模板引擎的默认依赖</strong>，需要手动添加相关依赖：</p>
<ul>
<li>添加 代码生成器 依赖 （模版引擎默认为）</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>com.baomidou<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>mybatis-plus-generator<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>3.3.1.tmp<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>需要新建一个生成类的文件进行生成。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.lsl.util</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.baomidou.mybatisplus.annotation.DbType</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.baomidou.mybatisplus.annotation.FieldFill</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.baomidou.mybatisplus.annotation.IdType</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.baomidou.mybatisplus.generator.AutoGenerator</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.baomidou.mybatisplus.generator.config.DataSourceConfig</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.baomidou.mybatisplus.generator.config.GlobalConfig</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.baomidou.mybatisplus.generator.config.PackageConfig</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.baomidou.mybatisplus.generator.config.StrategyConfig</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.baomidou.mybatisplus.generator.config.po.TableFill</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.baomidou.mybatisplus.generator.config.rules.DateType</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.baomidou.mybatisplus.generator.config.rules.NamingStrategy</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">GenerateCode</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
<span class="c1">// 需要构建一个 代码自动生成器 对象
</span><span class="c1"></span>        <span class="n">AutoGenerator</span> <span class="n">mpg</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AutoGenerator</span><span class="o">();</span>
        <span class="c1">// 配置策略
</span><span class="c1"></span>        <span class="c1">// 1、全局配置
</span><span class="c1"></span>        <span class="n">GlobalConfig</span> <span class="n">gc</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GlobalConfig</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">projectPath</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s">&#34;user.dir&#34;</span><span class="o">);</span><span class="c1">//获得当前用户的路径
</span><span class="c1"></span>        <span class="n">gc</span><span class="o">.</span><span class="na">setOutputDir</span><span class="o">(</span><span class="n">projectPath</span><span class="o">+</span><span class="s">&#34;/mybatis-study/mybatis4-plus/src/main/java&#34;</span><span class="o">);</span><span class="c1">//前面两个是模块名 生成到当前路径的java文件下
</span><span class="c1"></span>        <span class="n">gc</span><span class="o">.</span><span class="na">setAuthor</span><span class="o">(</span><span class="s">&#34;卢森林&#34;</span><span class="o">);</span>
        <span class="n">gc</span><span class="o">.</span><span class="na">setOpen</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span><span class="c1">//是否打开资源管理器
</span><span class="c1"></span>        <span class="n">gc</span><span class="o">.</span><span class="na">setFileOverride</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span> <span class="c1">// 是否覆盖
</span><span class="c1"></span>        <span class="n">gc</span><span class="o">.</span><span class="na">setServiceName</span><span class="o">(</span><span class="s">&#34;%sService&#34;</span><span class="o">);</span> <span class="c1">// 去Service的I前缀 %s会自动填充表实体名
</span><span class="c1"></span>        <span class="n">gc</span><span class="o">.</span><span class="na">setIdType</span><span class="o">(</span><span class="n">IdType</span><span class="o">.</span><span class="na">AUTO</span><span class="o">);</span>
        <span class="n">gc</span><span class="o">.</span><span class="na">setDateType</span><span class="o">(</span><span class="n">DateType</span><span class="o">.</span><span class="na">ONLY_DATE</span><span class="o">);</span>
        <span class="c1">//gc.setSwagger2(true); Swagger2接口文档
</span><span class="c1"></span>        <span class="n">mpg</span><span class="o">.</span><span class="na">setGlobalConfig</span><span class="o">(</span><span class="n">gc</span><span class="o">);</span>
        <span class="c1">//2、设置数据源
</span><span class="c1"></span>        <span class="n">DataSourceConfig</span> <span class="n">dsc</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DataSourceConfig</span><span class="o">();</span>
      <span class="c1">//8.0要加上时区 serverTimezone=UTC
</span><span class="c1"></span>        <span class="n">dsc</span><span class="o">.</span><span class="na">setUrl</span><span class="o">(</span><span class="s">&#34;jdbc:mysql://localhost:3306/mysql1?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf8&#34;</span><span class="o">);</span>
      <span class="c1">//8.0 com.mysql.cj.jdbc.Driver
</span><span class="c1"></span>        <span class="n">dsc</span><span class="o">.</span><span class="na">setDriverName</span><span class="o">(</span><span class="s">&#34;com.mysql.jdbc.Driver&#34;</span><span class="o">);</span>
        <span class="n">dsc</span><span class="o">.</span><span class="na">setUsername</span><span class="o">(</span><span class="s">&#34;root&#34;</span><span class="o">);</span>
        <span class="n">dsc</span><span class="o">.</span><span class="na">setPassword</span><span class="o">(</span><span class="s">&#34;123456&#34;</span><span class="o">);</span>
        <span class="n">dsc</span><span class="o">.</span><span class="na">setDbType</span><span class="o">(</span><span class="n">DbType</span><span class="o">.</span><span class="na">MYSQL</span><span class="o">);</span>
        <span class="n">mpg</span><span class="o">.</span><span class="na">setDataSource</span><span class="o">(</span><span class="n">dsc</span><span class="o">);</span>
        <span class="c1">//3、包的配置
</span><span class="c1"></span>        <span class="n">PackageConfig</span> <span class="n">pc</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PackageConfig</span><span class="o">();</span>
         <span class="c1">//pc.setModuleName(&#34;lx&#34;);//生成的包的路径 会在controller前加上lx，也会在parent设置的路径后加上.name
</span><span class="c1"></span>        <span class="n">pc</span><span class="o">.</span><span class="na">setParent</span><span class="o">(</span><span class="s">&#34;com.lx&#34;</span><span class="o">);</span><span class="c1">//生成包路径的父路径
</span><span class="c1"></span>
        <span class="n">pc</span><span class="o">.</span><span class="na">setEntity</span><span class="o">(</span><span class="s">&#34;entity&#34;</span><span class="o">);</span><span class="c1">//实体类包的名称
</span><span class="c1"></span>        <span class="n">pc</span><span class="o">.</span><span class="na">setMapper</span><span class="o">(</span><span class="s">&#34;mapper&#34;</span><span class="o">);</span>
        <span class="n">pc</span><span class="o">.</span><span class="na">setService</span><span class="o">(</span><span class="s">&#34;service&#34;</span><span class="o">);</span>
        <span class="n">pc</span><span class="o">.</span><span class="na">setController</span><span class="o">(</span><span class="s">&#34;controller&#34;</span><span class="o">);</span>
        <span class="n">mpg</span><span class="o">.</span><span class="na">setPackageInfo</span><span class="o">(</span><span class="n">pc</span><span class="o">);</span>
        <span class="c1">//4、策略配置
</span><span class="c1"></span>        <span class="n">StrategyConfig</span> <span class="n">strategy</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StrategyConfig</span><span class="o">();</span>

         <span class="n">strategy</span><span class="o">.</span><span class="na">setInclude</span><span class="o">(</span><span class="s">&#34;zz_employee&#34;</span><span class="o">,</span><span class="s">&#34;zz_department&#34;</span><span class="o">);</span> <span class="c1">//多表用逗号隔开,数组 输入表名，生成实体类，不写默认生成数据库所有的表
</span><span class="c1"></span>        <span class="c1">//strategy.setExclude(&#34;books&#34;);
</span><span class="c1"></span>        <span class="n">strategy</span><span class="o">.</span><span class="na">setNaming</span><span class="o">(</span><span class="n">NamingStrategy</span><span class="o">.</span><span class="na">underline_to_camel</span><span class="o">);</span><span class="c1">//表名策略,下划线转驼峰
</span><span class="c1"></span>        <span class="n">strategy</span><span class="o">.</span><span class="na">setColumnNaming</span><span class="o">(</span><span class="n">NamingStrategy</span><span class="o">.</span><span class="na">underline_to_camel</span><span class="o">);</span><span class="c1">//列名策略，下划线转驼峰
</span><span class="c1"></span>        <span class="n">strategy</span><span class="o">.</span><span class="na">setEntityLombokModel</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span> <span class="c1">// 使用lombok；
</span><span class="c1"></span>        <span class="n">strategy</span><span class="o">.</span><span class="na">setLogicDeleteFieldName</span><span class="o">(</span><span class="s">&#34;deleted&#34;</span><span class="o">);</span>
        <span class="c1">// 自动填充配置
</span><span class="c1"></span>        <span class="n">TableFill</span> <span class="n">gmtCreate</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TableFill</span><span class="o">(</span><span class="s">&#34;gmt_create&#34;</span><span class="o">,</span> <span class="n">FieldFill</span><span class="o">.</span><span class="na">INSERT</span><span class="o">);</span>
        <span class="n">TableFill</span> <span class="n">gmtModified</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TableFill</span><span class="o">(</span><span class="s">&#34;gmt_modified&#34;</span><span class="o">,</span>
                <span class="n">FieldFill</span><span class="o">.</span><span class="na">INSERT_UPDATE</span><span class="o">);</span>
        <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">TableFill</span><span class="o">&gt;</span> <span class="n">tableFills</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">tableFills</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">gmtCreate</span><span class="o">);</span>
        <span class="n">tableFills</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">gmtModified</span><span class="o">);</span>
        <span class="n">strategy</span><span class="o">.</span><span class="na">setTableFillList</span><span class="o">(</span><span class="n">tableFills</span><span class="o">);</span>
        <span class="c1">// 乐观锁
</span><span class="c1"></span>        <span class="n">strategy</span><span class="o">.</span><span class="na">setVersionFieldName</span><span class="o">(</span><span class="s">&#34;version&#34;</span><span class="o">);</span>
        <span class="n">strategy</span><span class="o">.</span><span class="na">setRestControllerStyle</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span><span class="c1">//Rest风格的Controller
</span><span class="c1"></span>
        <span class="n">strategy</span><span class="o">.</span><span class="na">setControllerMappingHyphenStyle</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span> <span class="c1">//localhost:8080/hello_id_2
</span><span class="c1"></span>        <span class="n">mpg</span><span class="o">.</span><span class="na">setStrategy</span><span class="o">(</span><span class="n">strategy</span><span class="o">);</span>

        <span class="n">mpg</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="c1">//执行
</span><span class="c1"></span>    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="/typoraImg/%E6%8F%92%E4%BB%B6MyBatis.assets/image-20200402135518794.png" alt="image-20200402135518794"></p>
<h2 id="4plus分页插件">4plus分页插件</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="c">&lt;!--写法一：mybatis.xml中书写--&gt;</span>
<span class="nt">&lt;plugins&gt;</span>
    <span class="nt">&lt;plugin</span> <span class="na">interceptor=</span><span class="s">&#34;com.baomidou.mybatisplus.extension.plugins.PaginationInterceptor&#34;</span> <span class="nt">&gt;</span>
      <span class="c">&lt;!-- COUNT SQL 解析.可以没有 --&gt;</span>
      <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;countSqlParser&#34;</span> <span class="na">ref=</span><span class="s">&#34;countSqlParser&#34;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/plugin&gt;</span>
<span class="nt">&lt;/plugins&gt;</span>

<span class="c">&lt;!--写法二：创建sqlsessionFactory时书写--&gt;</span>
<span class="c">&lt;!-- 3.配置SqlSessionFactory对象 --&gt;</span>
<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&#34;sqlSessionFactory&#34;</span> <span class="na">class=</span><span class="s">&#34;com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean&#34;</span><span class="nt">&gt;</span>
  <span class="c">&lt;!-- 注入数据库连接池 --&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;dataSource&#34;</span> <span class="na">ref=</span><span class="s">&#34;dataSource&#34;</span><span class="nt">/&gt;</span>
  <span class="c">&lt;!-- 配置MyBaties全局配置文件:mybatis-config.xml --&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;configLocation&#34;</span> <span class="na">value=</span><span class="s">&#34;classpath:mybatis-config.xml&#34;</span><span class="nt">/&gt;</span>
  <span class="c">&lt;!--也可以不配置MyBatis全局配置文件，再这里说明--&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;mapperLocations&#34;</span> <span class="na">value=</span><span class="s">&#34;classpath:com/lx/mapper/xml/*.xml&#34;</span><span class="nt">&gt;&lt;/property&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;typeAliasesPackage&#34;</span> <span class="na">value=</span><span class="s">&#34;com.lx.entity&#34;</span><span class="nt">&gt;&lt;/property&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;plugins&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;array&gt;</span>
      <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&#34;paginationInterceptor&#34;</span> <span class="na">class=</span><span class="s">&#34;com.baomidou.mybatisplus.extension.plugins.PaginationInterceptor&#34;</span><span class="nt">&gt;</span>
            <span class="c">&lt;!-- COUNT SQL 解析.可以没有 --&gt;</span>
     				 <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;countSqlParser&#34;</span> <span class="na">ref=</span><span class="s">&#34;countSqlParser&#34;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/bean&gt;</span>
    <span class="nt">&lt;/array&gt;</span>
  <span class="nt">&lt;/property&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>java类中使用</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">  <span class="c1">//创建page对象
</span><span class="c1"></span>        <span class="n">Page</span><span class="o">&lt;</span><span class="n">ZzDepartment</span><span class="o">&gt;</span> <span class="n">page</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Page</span><span class="o">&lt;&gt;(</span><span class="n">1</span><span class="o">,</span><span class="n">3</span><span class="o">);</span>

        <span class="c1">//创建wrapper
</span><span class="c1"></span>        <span class="n">QueryWrapper</span><span class="o">&lt;</span><span class="n">ZzDepartment</span><span class="o">&gt;</span> <span class="n">wrapper</span><span class="o">=</span><span class="k">new</span> <span class="n">QueryWrapper</span><span class="o">&lt;</span><span class="n">ZzDepartment</span><span class="o">&gt;();</span>
        <span class="n">wrapper</span><span class="o">.</span><span class="na">orderByDesc</span><span class="o">(</span><span class="s">&#34;oid&#34;</span><span class="o">);</span>

        <span class="c1">//调用分页方法
</span><span class="c1"></span>        <span class="n">bean</span><span class="o">.</span><span class="na">page</span><span class="o">(</span><span class="n">page</span><span class="o">,</span><span class="n">wrapper</span><span class="o">);</span>
        <span class="c1">//获得分页后的集合
</span><span class="c1"></span>        <span class="n">page</span><span class="o">.</span><span class="na">getRecords</span><span class="o">();</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>当前分页无法进行连接查询</p>
<p>建议自行编写方法扩展</p>
<p>1ZzDepartmentMapper接口中编写方法<code>IPage&lt;ZzDepartment&gt; selectPageDept(Page&lt;?&gt; page);</code></p>
<p>21ZzDepartmentMapper.xml配置文件中编写</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;selectPageDept&#34;</span> <span class="na">resultType=</span><span class="s">&#34;zzDepartment&#34;</span><span class="nt">&gt;</span>
    select * from zz_Department where oid&gt;20
<span class="nt">&lt;/select&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>3service接口编写调用方法
<code>IPage&lt;ZzDepartment&gt; findPageDept(Page&lt;?&gt; page);</code></p>
<p>4service实现类进行调用</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">    <span class="nd">@Autowired</span>
    <span class="n">ZzDepartmentMapper</span> <span class="n">deptMapper</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">IPage</span><span class="o">&lt;</span><span class="n">ZzDepartment</span><span class="o">&gt;</span> <span class="nf">findPageDept</span><span class="o">(</span><span class="n">Page</span><span class="o">&lt;?&gt;</span> <span class="n">page</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">deptMapper</span><span class="o">.</span><span class="na">selectPageDept</span><span class="o">(</span><span class="n">page</span><span class="o">);</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>5Controller进行使用</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">QueryWrapper</span> <span class="n">wrapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">QueryWrapper</span><span class="o">();</span>

<span class="n">Page</span><span class="o">&lt;</span><span class="n">ZzDepartment</span><span class="o">&gt;</span> <span class="n">page</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Page</span><span class="o">&lt;&gt;(</span><span class="n">1</span><span class="o">,</span><span class="n">3</span><span class="o">);</span>

<span class="n">deptService</span><span class="o">.</span><span class="na">findPageDept</span><span class="o">(</span><span class="n">page</span><span class="o">);</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">ZzDepartment</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">page</span><span class="o">.</span><span class="na">getRecords</span><span class="o">();</span>
</code></pre></td></tr></table>
</div>
</div></blockquote>
<h2 id="5service接口使用">5service接口使用</h2>
<p>调用service接口进行CRUD
通用 Service CRUD 封装IService接口，进一步封装 CRUD 采用 <code>get 查询单行</code> <code>remove 删除</code> <code>list 查询集合</code> <code>page 分页</code> 前缀命名方式区分 <code>Mapper</code> 层避免混淆</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ZzDepartmentServiceImplTest</span>  <span class="o">{</span>

    <span class="c1">//serviceImpl测试
</span><span class="c1"></span>
    <span class="n">ZzDepartmentServiceImpl</span> <span class="n">bean</span><span class="o">;</span>
    <span class="nd">@Before</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">init</span><span class="o">(){</span>
        <span class="n">ApplicationContext</span> <span class="n">context</span><span class="o">=</span><span class="k">new</span> <span class="n">ClassPathXmlApplicationContext</span><span class="o">(</span><span class="s">&#34;applicationContext.xml&#34;</span><span class="o">);</span>
         <span class="n">bean</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="n">ZzDepartmentServiceImpl</span><span class="o">.</span><span class="na">class</span><span class="o">);;</span>
    <span class="o">}</span>

    <span class="c1">//增
</span><span class="c1"></span>    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="o">(){</span>
        <span class="n">ZzDepartment</span> <span class="n">dept</span><span class="o">=</span><span class="k">new</span> <span class="n">ZzDepartment</span><span class="o">();</span>
        <span class="n">dept</span><span class="o">.</span><span class="na">setDeptName</span><span class="o">(</span><span class="s">&#34;thursday&#34;</span><span class="o">);</span>
        <span class="n">bean</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">dept</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="c1">//删
</span><span class="c1"></span>    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">delete</span><span class="o">(){</span>
        <span class="n">bean</span><span class="o">.</span><span class="na">removeById</span><span class="o">(</span><span class="n">45</span><span class="o">);</span><span class="c1">//按照id删除一个
</span><span class="c1"></span>        
        <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&#34;oid&#34;</span><span class="o">,</span><span class="n">47</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&#34;phone&#34;</span><span class="o">,</span><span class="s">&#34;123456&#34;</span><span class="o">);</span>
        <span class="n">bean</span><span class="o">.</span><span class="na">removeByMap</span><span class="o">(</span><span class="n">map</span><span class="o">);</span><span class="c1">//多个条件 phone = ? AND oid = ? 
</span><span class="c1"></span>
    <span class="o">}</span>

    <span class="c1">//改
</span><span class="c1"></span>    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">update</span><span class="o">(){</span>
        <span class="n">ZzDepartment</span> <span class="n">dept</span><span class="o">=</span><span class="k">new</span> <span class="n">ZzDepartment</span><span class="o">();</span>
        <span class="n">dept</span><span class="o">.</span><span class="na">setOid</span><span class="o">(</span><span class="n">19</span><span class="o">);</span>
        <span class="n">dept</span><span class="o">.</span><span class="na">setDeptName</span><span class="o">(</span><span class="s">&#34;总部&#34;</span><span class="o">);</span>

        <span class="n">UpdateWrapper</span><span class="o">&lt;</span><span class="n">ZzDepartment</span><span class="o">&gt;</span> <span class="n">wrapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">UpdateWrapper</span><span class="o">&lt;</span><span class="n">ZzDepartment</span><span class="o">&gt;();</span>
        <span class="n">wrapper</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span><span class="s">&#34;oid&#34;</span><span class="o">,</span><span class="n">19</span><span class="o">);</span>

        <span class="n">bean</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="n">dept</span><span class="o">,</span><span class="n">wrapper</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="c1">//查询
</span><span class="c1"></span>    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">find</span><span class="o">(){</span>
        <span class="c1">//bean.list();
</span><span class="c1"></span>
        <span class="n">QueryWrapper</span><span class="o">&lt;</span><span class="n">ZzDepartment</span><span class="o">&gt;</span> <span class="n">wrapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">QueryWrapper</span><span class="o">&lt;&gt;();</span>
        <span class="c1">//wrapper.groupBy(&#34;oid&#34;);
</span><span class="c1"></span>        <span class="c1">//wrapper.eq(&#34;oid&#34;,15);
</span><span class="c1"></span>        <span class="c1">//wrapper.orderBy(true,false,&#34;oid&#34;);
</span><span class="c1"></span>       <span class="c1">// wrapper.order
</span><span class="c1"></span>      <span class="c1">//wrapper.like(boolean,&#34;oid&#34;,15);//boolean条件是否生效
</span><span class="c1"></span>        <span class="n">bean</span><span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">wrapper</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="6mapper使用">6mapper使用</h2>
<p>mapper使用的是insert,update,delete,select和service接口进行区分</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">mapperSave</span><span class="o">(){</span>
    <span class="c1">//增加
</span><span class="c1"></span>    <span class="n">ZzDepartment</span> <span class="n">dept</span><span class="o">=</span><span class="k">new</span> <span class="n">ZzDepartment</span><span class="o">();</span>
    <span class="n">dept</span><span class="o">.</span><span class="na">setDeptName</span><span class="o">(</span><span class="s">&#34;命名&#34;</span><span class="o">);</span>
    <span class="c1">//mapper.insert(dept);
</span><span class="c1"></span>
    <span class="c1">//删
</span><span class="c1"></span>    <span class="n">QueryWrapper</span> <span class="n">wrapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">QueryWrapper</span><span class="o">();</span>
    <span class="n">wrapper</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span><span class="s">&#34;oid&#34;</span><span class="o">,</span><span class="n">50</span><span class="o">);</span>
   <span class="n">mapper</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="n">wrapper</span><span class="o">);</span>


    <span class="c1">//查询
</span><span class="c1"></span>    <span class="n">mapper</span><span class="o">.</span><span class="na">selectById</span><span class="o">(</span><span class="n">48</span><span class="o">);</span>

    <span class="c1">//修改
</span><span class="c1"></span>    <span class="n">QueryWrapper</span> <span class="n">wrapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">QueryWrapper</span><span class="o">();</span>
    <span class="n">wrapper</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span><span class="s">&#34;phone&#34;</span><span class="o">,</span><span class="n">12345</span><span class="o">);</span>
    <span class="n">dept</span><span class="o">.</span><span class="na">setAddress</span><span class="o">(</span><span class="s">&#34;nonono&#34;</span><span class="o">);</span>
    <span class="n">mapper</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="n">dept</span><span class="o">,</span><span class="n">wrapper</span><span class="o">);</span><span class="c1">//这里是批量修改，dept是修改的数据,mapper是修改条件
</span><span class="c1"></span><span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="7修改注意">7修改注意</h2>
<p>mybatis修改对象的时候，若某个属性为null，那么就不会进行修改。(要么前端传递参数为null，或者后端进行判断，再或者前端不传递该属性名)</p>
<hr>
<p>若是json格式
若没有属性名称：则为空
若由属性名称：可以给Null，undefined。</p>
<p>最好是进行判断 Integer是不为Null不为0，String不为null不为&rdquo;&rdquo;</p>
<h1 id="第2章-pagehepler">第2章-pagehepler</h1>
<h2 id="1什么是pagehepler">1什么是pagehepler</h2>
<p>文档教程https://github.com/pagehelper/Mybatis-PageHelper/blob/master/wikis/zh/HowToUse.md</p>
<h2 id="2快速入门">2快速入门</h2>
<p>1导入依赖</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>com.github.pagehelper<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>pagehelper<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>5.1.11<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="2-配置拦截器插件">2 配置拦截器插件</h3>
<p>特别注意，新版拦截器是 <code>com.github.pagehelper.PageInterceptor</code>。 <code>com.github.pagehelper.PageHelper</code> 现在是一个特殊的 <code>dialect</code> 实现类，是分页插件的默认实现类，提供了和以前相同的用法。</p>
<p><strong>1. 在 MyBatis 配置 xml 中配置拦截器插件</strong>(还可以在spring中配置，具体看官网)</p>
<p>下面介绍两个常用属性。</p>
<p>helperDialect：分页插件会自动检测当前的数据库链接，自动选择合适的分页方式。 指定分页插件使用哪种方言。缩写值：oracle,mysql,mariadb,sqlite,hsqldb,postgresql,db2,sqlserver,informix,h2,sqlserver2012,derby</p>
<p><code>reasonable</code>：分页合理化参数，默认值为<code>false</code>。当该参数设置为 <code>true</code> 时，<code>pageNum&lt;=0</code> 时会查询第一页，<code>pageNum&gt;pages</code>（超过总数时），会查询最后一页。默认<code>false</code> 时，直接根据参数进行查询。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="c">&lt;!----------------mybatis.xml配置----------------------&gt;</span>
<span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE configuration
</span><span class="cp">        PUBLIC &#34;-//mybatis.org//DTD Config 3.0//EN&#34;
</span><span class="cp">        &#34;http://mybatis.org/dtd/mybatis-3-config.dtd&#34;&gt;</span>
<span class="nt">&lt;configuration&gt;</span>
  <span class="c">&lt;!-- 
</span><span class="c">    plugins在配置文件中的位置必须符合要求，否则会报错，顺序如下:
</span><span class="c">    properties?, settings?, 
</span><span class="c">    typeAliases?, typeHandlers?, 
</span><span class="c">    objectFactory?,objectWrapperFactory?, 
</span><span class="c">    plugins?, 
</span><span class="c">    environments?, databaseIdProvider?, mappers?
</span><span class="c">--&gt;</span>
    <span class="nt">&lt;settings&gt;</span>
      <span class="c">&lt;!--打印sql--&gt;</span>
        <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">&#34;logImpl&#34;</span> <span class="na">value=</span><span class="s">&#34;org.apache.ibatis.logging.stdout.StdOutImpl&#34;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/settings&gt;</span>
    <span class="nt">&lt;plugins&gt;</span>
        <span class="c">&lt;!-- com.github.pagehelper为PageHelper类所在包名 --&gt;</span>
        <span class="nt">&lt;plugin</span> <span class="na">interceptor=</span><span class="s">&#34;com.github.pagehelper.PageInterceptor&#34;</span><span class="nt">&gt;</span>
            <span class="c">&lt;!-- 使用下面的方式配置参数，后面会有所有的参数介绍 --&gt;</span>
            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;helperDialect&#34;</span> <span class="na">value=</span><span class="s">&#34;mysql&#34;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;reasonable&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/plugin&gt;</span>
    <span class="nt">&lt;/plugins&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>


<span class="c">&lt;!----------------Spring配置----------------------&gt;</span>
<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&#34;sqlSessionFactory&#34;</span> <span class="na">class=</span><span class="s">&#34;org.mybatis.spring.SqlSessionFactoryBean&#34;</span><span class="nt">&gt;</span>
  <span class="c">&lt;!-- 注意其他配置 --&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;plugins&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;array&gt;</span>
      <span class="nt">&lt;bean</span> <span class="na">class=</span><span class="s">&#34;com.github.pagehelper.PageInterceptor&#34;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;properties&#34;</span><span class="nt">&gt;</span>
          <span class="c">&lt;!--使用下面的方式配置参数，一行配置一个 --&gt;</span>
          <span class="nt">&lt;value&gt;</span>
            params=value1
          <span class="nt">&lt;/value&gt;</span>
        <span class="nt">&lt;/property&gt;</span>
      <span class="nt">&lt;/bean&gt;</span>
    <span class="nt">&lt;/array&gt;</span>
  <span class="nt">&lt;/property&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="3-在代码中使用">3 在代码中使用</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="c1">//pagehepler分页展示所有商品
</span><span class="c1"></span><span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&#34;/pageCommodity&#34;</span><span class="o">,</span><span class="n">method</span> <span class="o">=</span> <span class="n">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
<span class="nd">@ResponseBody</span>
<span class="kd">public</span> <span class="n">PageInfo</span><span class="o">&lt;</span><span class="n">Commodity</span><span class="o">&gt;</span> <span class="nf">pageCommodity</span><span class="o">(</span><span class="n">Commodity</span> <span class="n">commodity</span> <span class="o">,</span> <span class="n">HttpServletRequest</span> <span class="n">request</span><span class="o">){</span>
    <span class="c1">//设置开始页和每页个数
</span><span class="c1"></span>    <span class="n">PageHelper</span><span class="o">.</span><span class="na">startPage</span><span class="o">(</span><span class="n">0</span><span class="o">,</span><span class="n">8</span><span class="o">);</span>

    <span class="c1">//查询数据
</span><span class="c1"></span>    <span class="n">List</span><span class="o">&lt;</span><span class="n">Commodity</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">commodityService</span><span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>

    <span class="c1">//获得当前分页对象 可以给出两参数
</span><span class="c1"></span>    <span class="n">PageInfo</span><span class="o">&lt;</span><span class="n">Commodity</span><span class="o">&gt;</span> <span class="n">pageInfo</span><span class="o">=</span><span class="k">new</span> <span class="n">PageInfo</span><span class="o">&lt;</span><span class="n">Commodity</span><span class="o">&gt;(</span><span class="n">list</span><span class="o">);</span>
   <span class="k">return</span> <span class="n">pageInfo</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>返回json格式的数据</p>
<p>total总数据，	list数据，	pageNum当前页数，	pagesize每页大小，
size当前数据个数，prePage上一页，pages总页数，</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
    <span class="nt">&#34;total&#34;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="err">//总数据条数</span>
    <span class="nt">&#34;list&#34;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> 
            <span class="nt">&#34;cid&#34;</span><span class="p">:</span> <span class="mi">2202004082140450600</span><span class="p">,</span> 
            <span class="nt">&#34;cname&#34;</span><span class="p">:</span> <span class="s2">&#34;阿萨德&#34;</span><span class="p">,</span> 
            <span class="nt">&#34;price&#34;</span><span class="p">:</span> <span class="mf">0.02</span>
        <span class="p">},</span> 
        <span class="p">{</span>
            <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> 
            <span class="nt">&#34;cid&#34;</span><span class="p">:</span> <span class="mi">4202004082149136400</span><span class="p">,</span> 
            <span class="nt">&#34;cname&#34;</span><span class="p">:</span> <span class="s2">&#34;了&#34;</span><span class="p">,</span> 
            <span class="nt">&#34;price&#34;</span><span class="p">:</span> <span class="mf">0.01</span>
        <span class="p">}</span>
    <span class="p">],</span> 
    <span class="nt">&#34;pageNum&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="err">//当前页</span>
    <span class="nt">&#34;pageSize&#34;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="err">//每页大小</span>
    <span class="nt">&#34;size&#34;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="err">//当前返回数据条数</span>
    <span class="nt">&#34;startRow&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="err">//开始行</span>
    <span class="nt">&#34;endRow&#34;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="err">//结束行</span>
    <span class="nt">&#34;pages&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="err">//总页数</span>
    <span class="nt">&#34;prePage&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="err">//上一页</span>
    <span class="nt">&#34;nextPage&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="err">//下一页</span>
    <span class="nt">&#34;isFirstPage&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="err">//属于第一页吗</span>
    <span class="nt">&#34;isLastPage&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> 
    <span class="nt">&#34;hasPreviousPage&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> 
    <span class="nt">&#34;hasNextPage&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> 
    <span class="nt">&#34;navigatePages&#34;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="err">//导航页码数</span> <span class="err">new</span> <span class="err">PageInfo&lt;Zhuanke&gt;(list,导航页数);</span>
    <span class="nt">&#34;navigatepageNums&#34;</span><span class="p">:</span> <span class="p">[</span>
        <span class="mi">1</span>
    <span class="p">],</span> 
    <span class="nt">&#34;navigateFirstPage&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> 
    <span class="nt">&#34;navigateLastPage&#34;</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="c1">//当前页
</span><span class="c1"></span><span class="kd">private</span> <span class="kt">int</span> <span class="n">pageNum</span><span class="o">;</span>

<span class="c1">//每页的数量
</span><span class="c1"></span><span class="kd">private</span> <span class="kt">int</span> <span class="n">pageSize</span><span class="o">;</span>

<span class="c1">//当前页的数量
</span><span class="c1"></span><span class="kd">private</span> <span class="kt">int</span> <span class="n">size</span><span class="o">;</span>

<span class="c1">//由于startRow和endRow不常用，这里说个具体的用法
</span><span class="c1">//可以在页面中&#34;显示startRow到endRow 共size条数据&#34;
</span><span class="c1">//当前页面第一个元素在数据库中的行号
</span><span class="c1"></span><span class="kd">private</span> <span class="kt">int</span> <span class="n">startRow</span><span class="o">;</span> <span class="c1">//从0开始
</span><span class="c1"></span>
<span class="c1">//当前页面最后一个元素在数据库中的行号
</span><span class="c1"></span><span class="kd">private</span> <span class="kt">int</span> <span class="n">endRow</span><span class="o">;</span>
<span class="c1">//总记录数
</span><span class="c1"></span><span class="kd">private</span> <span class="kt">long</span> <span class="n">total</span><span class="o">;</span>

<span class="c1">//总页数
</span><span class="c1"></span><span class="kd">private</span> <span class="kt">int</span> <span class="n">pages</span><span class="o">;</span>

<span class="c1">//结果集(每页显示的数据)
</span><span class="c1"></span><span class="kd">private</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">;</span>

<span class="c1">//第一页
</span><span class="c1"></span><span class="kd">private</span> <span class="kt">int</span> <span class="n">firstPage</span><span class="o">;</span>

<span class="c1">//前一页
</span><span class="c1"></span><span class="kd">private</span> <span class="kt">int</span> <span class="n">prePage</span><span class="o">;</span>

<span class="c1">//是否为第一页
</span><span class="c1"></span><span class="kd">private</span> <span class="kt">boolean</span> <span class="n">isFirstPage</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>

<span class="c1">//是否为最后一页
</span><span class="c1"></span><span class="kd">private</span> <span class="kt">boolean</span> <span class="n">isLastPage</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>

<span class="c1">//是否有前一页
</span><span class="c1"></span><span class="kd">private</span> <span class="kt">boolean</span> <span class="n">hasPreviousPage</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>

<span class="c1">//是否有下一页
</span><span class="c1"></span><span class="kd">private</span> <span class="kt">boolean</span> <span class="n">hasNextPage</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>

<span class="c1">//导航页码数
</span><span class="c1"></span><span class="kd">private</span> <span class="kt">int</span> <span class="n">navigatePages</span><span class="o">;</span>

<span class="c1">//所有导航页号
</span><span class="c1"></span><span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">navigatepageNums</span><span class="o">;</span>

</code></pre></td></tr></table>
</div>
</div><h1 id="第三章-generator">第三章-generator</h1>
<h2 id="2快速入门-1">2快速入门</h2>
<p>pom.xml导入插件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="c">&lt;!--加入Jia包--&gt;</span>
<span class="c">&lt;!--代码生成--&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>org.mybatis.generator<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>mybatis-generator-core<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>1.3.5<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>

<span class="c">&lt;!--插件 注意版本，和configuration子标签的顺序--&gt;</span>
 <span class="nt">&lt;plugins&gt;</span>
      <span class="nt">&lt;plugin&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.mybatis.generator<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>mybatis-generator-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>1.3.5<span class="nt">&lt;/version&gt;</span>

        <span class="nt">&lt;configuration&gt;</span>
          <span class="nt">&lt;verbose&gt;</span>true<span class="nt">&lt;/verbose&gt;</span>
          <span class="nt">&lt;configurationFile&gt;</span>src/main/resources/generatorConfig.xml<span class="nt">&lt;/configurationFile&gt;</span>
          <span class="nt">&lt;overwrite&gt;</span>true<span class="nt">&lt;/overwrite&gt;</span>
        <span class="nt">&lt;/configuration&gt;</span>
        <span class="nt">&lt;dependencies&gt;</span>
          <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>mysql<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>mysql-connector-java<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;version&gt;</span>5.1.42<span class="nt">&lt;/version&gt;</span>
          <span class="nt">&lt;/dependency&gt;</span>
        <span class="nt">&lt;/dependencies&gt;</span>
      <span class="nt">&lt;/plugin&gt;</span>
    <span class="nt">&lt;/plugins&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>generatorConfig.xml</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span class="cp">&lt;!DOCTYPE generatorConfiguration
</span><span class="cp">        PUBLIC &#34;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&#34;
</span><span class="cp">        &#34;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&#34;&gt;</span>
<span class="nt">&lt;generatorConfiguration&gt;</span>
    <span class="nt">&lt;context</span> <span class="na">id=</span><span class="s">&#34;DB2Tables&#34;</span> <span class="na">targetRuntime=</span><span class="s">&#34;MyBatis3&#34;</span><span class="nt">&gt;</span>

        <span class="nt">&lt;commentGenerator&gt;</span>
            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;suppressDate&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;suppressAllComments&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/commentGenerator&gt;</span>

        <span class="nt">&lt;jdbcConnection</span> <span class="na">driverClass=</span><span class="s">&#34;com.mysql.jdbc.Driver&#34;</span> <span class="na">connectionURL=</span><span class="s">&#34;jdbc:mysql://localhost:3306/mysql1?useSSL=false&amp;amp;useUnicode=true&amp;amp;characterEncoding=utf8&#34;</span>
                        <span class="na">userId=</span><span class="s">&#34;root&#34;</span>
                        <span class="na">password=</span><span class="s">&#34;123456&#34;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/jdbcConnection&gt;</span>
        <span class="c">&lt;!--生成entity类存放位置--&gt;</span>
        <span class="nt">&lt;javaModelGenerator</span> <span class="na">targetPackage=</span><span class="s">&#34;com.lsl.entity&#34;</span> <span class="na">targetProject=</span><span class="s">&#34;src/main/java&#34;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/javaModelGenerator&gt;</span>

        <span class="c">&lt;!--生成映射文件存放位置--&gt;</span>
        <span class="nt">&lt;sqlMapGenerator</span> <span class="na">targetPackage=</span><span class="s">&#34;com.lsl.mapper.xml&#34;</span> <span class="na">targetProject=</span><span class="s">&#34;src/main/java&#34;</span><span class="nt">&gt;</span>
            <span class="c">&lt;!-- &lt;property name=&#34;enableSubPackages&#34; value=&#34;true&#34;/&gt;--&gt;</span>
        <span class="nt">&lt;/sqlMapGenerator&gt;</span>

        <span class="c">&lt;!--生成Dao类存放位置--&gt;</span>
        <span class="nt">&lt;javaClientGenerator</span> <span class="na">type=</span><span class="s">&#34;XMLMAPPER&#34;</span> <span class="na">targetPackage=</span><span class="s">&#34;com.lsl.mapper&#34;</span>
                             <span class="na">targetProject=</span><span class="s">&#34;src/main/java&#34;</span><span class="nt">&gt;</span>
            <span class="c">&lt;!--&lt;property name=&#34;enableSubPackages&#34; value=&#34;true&#34;/&gt;--&gt;</span>
        <span class="nt">&lt;/javaClientGenerator&gt;</span>

        <span class="nt">&lt;table</span> <span class="na">tableName=</span><span class="s">&#34;zz_employee&#34;</span> <span class="na">domainObjectName=</span><span class="s">&#34;Employee&#34;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/table&gt;</span>

    <span class="nt">&lt;/context&gt;</span>
<span class="nt">&lt;/generatorConfiguration&gt;</span>

</code></pre></td></tr></table>
</div>
</div><p>然后点击Maven插件,进行run就好了</p>
<p>若是ssm项目，进行测试<img src="/typoraImg/%E6%8F%92%E4%BB%B6MyBatis.assets/image-20200604175052245.png" alt="image-20200604175052245"></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Service</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EmployeeServiceImpl</span> <span class="o">{</span>
<span class="nd">@Autowired</span>
    <span class="n">EmployeeMapper</span> <span class="n">empMapper</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">t1</span><span class="o">(){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;ssssss&#34;</span><span class="o">);</span>
        <span class="n">empMapper</span><span class="o">.</span><span class="na">selectByPrimaryKey</span><span class="o">(</span><span class="n">3</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">//测试类进行测试
</span><span class="c1"></span><span class="n">ApplicationContext</span> <span class="n">context</span><span class="o">=</span><span class="k">new</span> <span class="n">ClassPathXmlApplicationContext</span><span class="o">(</span><span class="s">&#34;applicationContext.xml&#34;</span><span class="o">);</span>
         <span class="n">bean</span> <span class="o">=</span>  <span class="n">context</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="n">EmployeeServiceImpl</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="n">bean</span><span class="o">.</span><span class="na">t1</span><span class="o">();</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="3方法example">3方法Example</h2>
<p>EmployeeExample生成的Example方法</p>
<p><img src="/typoraImg/%E6%8F%92%E4%BB%B6MyBatis.assets/image-20200605100135046.png" alt="image-20200605100135046"></p>
<p><img src="/typoraImg/%E6%8F%92%E4%BB%B6MyBatis.assets/image-20200605100123659.png" alt="image-20200605100123659"></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="c1">//升序还是降序
</span><span class="c1">//参数格式：字段+空格+asc(desc)
</span><span class="c1"></span><span class="kd">protected</span> <span class="n">String</span> <span class="n">orderByClause</span><span class="o">;</span>

<span class="c1">//去除重复
</span><span class="c1">//true是选择不重复记录
</span><span class="c1"></span><span class="kd">protected</span> <span class="kt">boolean</span> <span class="n">distinct</span><span class="o">;</span>

<span class="c1">//自定义查询条件
</span><span class="c1">//Criteria的集合，集合中对象是由or连接
</span><span class="c1"></span><span class="kd">protected</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Criteria</span><span class="o">&gt;</span> <span class="n">oredCriteria</span><span class="o">;</span>

<span class="c1">//内部类Criteria包含一个Cretiron的集合，
</span><span class="c1">//每一个Criteria对象内包含的Cretiron之间
</span><span class="c1">//是由AND连接的
</span><span class="c1"></span><span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Criteria</span> <span class="kd">extends</span> <span class="n">GeneratedCriteria</span> <span class="o">{</span>
  <span class="kd">protected</span> <span class="nf">Criteria</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">();</span> 
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"> <span class="n">EmployeeExample</span> <span class="n">example</span><span class="o">=</span><span class="k">new</span> <span class="n">EmployeeExample</span><span class="o">();</span>
<span class="c1">//按照oid降序排列
</span><span class="c1"></span>    <span class="n">example</span><span class="o">.</span><span class="na">setOrderByClause</span><span class="o">(</span><span class="s">&#34;oid desc&#34;</span><span class="o">);</span>

<span class="c1">//给一个限制条件 oid 小于等于6
</span><span class="c1"></span><span class="n">EmployeeExample</span><span class="o">.</span><span class="na">Criteria</span> <span class="n">criteria</span> <span class="o">=</span> <span class="n">example</span><span class="o">.</span><span class="na">createCriteria</span><span class="o">();</span>
<span class="n">criteria</span><span class="o">.</span><span class="na">andOidLessThanOrEqualTo</span><span class="o">(</span><span class="n">6</span><span class="o">);</span><span class="c1">//oid 小于等于6
</span><span class="c1"></span>
<span class="c1">//第二个限制条件 性别为男
</span><span class="c1"></span> <span class="n">criteria</span><span class="o">.</span><span class="na">andSexEqualTo</span><span class="o">(</span><span class="s">&#34;男&#34;</span><span class="o">);</span>

<span class="c1">//限制条件 模糊查询
</span><span class="c1"></span><span class="n">criteria</span><span class="o">.</span><span class="na">andEmpnameLike</span><span class="o">(</span><span class="s">&#34;萨达所%&#34;</span><span class="o">);</span>

<span class="c1">//若查询条件为or 就创建多个criteria就好了
</span><span class="c1"></span><span class="n">EmployeeExample</span><span class="o">.</span><span class="na">Criteria</span> <span class="n">criteria1</span> <span class="o">=</span> <span class="n">example</span><span class="o">.</span><span class="na">createCriteria</span><span class="o">();</span>
<span class="n">criteria1</span><span class="o">.</span><span class="na">andSexEqualTo</span><span class="o">(</span><span class="s">&#34;女&#34;</span><span class="o">);</span>

<span class="c1">//条件多个 加个 example.or(criteria2); 
</span><span class="c1"></span><span class="n">EmployeeExample</span><span class="o">.</span><span class="na">Criteria</span> <span class="n">criteria2</span> <span class="o">=</span> <span class="n">example</span><span class="o">.</span><span class="na">createCriteria</span><span class="o">();</span>
<span class="n">criteria2</span><span class="o">.</span><span class="na">andSexEqualTo</span><span class="o">(</span><span class="s">&#34;女&#34;</span><span class="o">);</span>
<span class="n">example</span><span class="o">.</span><span class="na">or</span><span class="o">(</span><span class="n">criteria2</span><span class="o">);</span>

<span class="n">empMapper</span><span class="o">.</span><span class="na">selectByExample</span><span class="o">(</span><span class="n">example</span><span class="o">);</span>
</code></pre></td></tr></table>
</div>
</div>
    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">卢森林</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        2020-07-18
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      
      <nav class="post-nav">
        <a class="prev" href="/post/vue/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Vue.md</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/%E6%97%A5%E5%BF%97/">
            <span class="next-text nav-default">日志.md</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:1115759748@qq.com" class="iconfont icon-email" title="email"></a>
      <a href="https://gitee.com/lusenlin1997" class="iconfont icon-stack-overflow" title="stack-overflow"></a>
      <a href="http://https://github.com/13277112287" class="iconfont icon-github" title="github"></a>
      <a href="http://localhost:1313" class="iconfont icon-bilibili" title="bilibili"></a>
  <a href="https://13277112287.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2020
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">卢森林</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.d7b7ada643c9c1a983026e177f141f7363b4640d619caf01d8831a6718cd44ea.js"></script>








</body>
</html>
